{"ast":null,"code":"import { useEffect, useRef, useState } from 'react';\n/**\n * For use when you need more granular comparisons\n * @param val\n * @returns {boolean}\n */\n\nexport const useCompare = val => {\n  const prevVal = usePrevious(val);\n  return prevVal !== val;\n};\n/**\n * Used internally by the useCompare hook\n * @param value\n * @returns {undefined}\n */\n\nconst usePrevious = value => {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n};\n/**\n * For use when you need to load initial data\n * @param func\n */\n\n\nexport const useMountEffect = func => {\n  useEffect(func, []);\n};\n/**\n * Toggle Dark Mode\n */\n\nexport const useDarkMode = () => {\n  const [theme, setTheme] = useState('light');\n\n  const setMode = mode => {\n    localStorage.setItem('theme', mode);\n    setTheme(mode);\n  };\n\n  const toggleTheme = () => {\n    if (theme === 'light') {\n      setMode('dark');\n    } else {\n      setMode('light');\n    }\n  };\n\n  useEffect(() => {\n    const localTheme = localStorage.getItem('theme');\n    window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches && !localTheme ? setMode('dark') : localTheme ? setTheme(localTheme) : setMode('light');\n  }, []);\n  return [theme, toggleTheme];\n};","map":{"version":3,"names":["useEffect","useRef","useState","useCompare","val","prevVal","usePrevious","value","ref","current","useMountEffect","func","useDarkMode","theme","setTheme","setMode","mode","localStorage","setItem","toggleTheme","localTheme","getItem","window","matchMedia","matches"],"sources":["/home/sarah.plazio/projects/fullstack-starter/ui/src/hooks/index.js"],"sourcesContent":["import { useEffect, useRef, useState } from 'react'\n\n/**\n * For use when you need more granular comparisons\n * @param val\n * @returns {boolean}\n */\nexport const useCompare = (val) => {\n  const prevVal = usePrevious(val)\n  return prevVal !== val\n}\n\n/**\n * Used internally by the useCompare hook\n * @param value\n * @returns {undefined}\n */\nconst usePrevious = (value) => {\n  const ref = useRef()\n  useEffect(() => {\n    ref.current = value\n  })\n  return ref.current\n}\n\n/**\n * For use when you need to load initial data\n * @param func\n */\nexport const useMountEffect = (func) => { useEffect(func, []) }\n\n/**\n * Toggle Dark Mode\n */\nexport const useDarkMode = () => {\n  const [theme, setTheme] = useState('light')\n  const setMode = mode => {\n    localStorage.setItem('theme', mode)\n    setTheme(mode)\n  }\n\n  const toggleTheme = () => {\n    if (theme === 'light') {\n      setMode('dark')\n    } else {\n      setMode('light')\n    }\n  }\n\n  useEffect(() => {\n    const localTheme = localStorage.getItem('theme')\n    window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches && !localTheme ?\n      setMode('dark') :\n      localTheme ?\n        setTheme(localTheme) :\n        setMode('light')\n  }, [])\n\n  return [theme, toggleTheme]\n}"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,MAApB,EAA4BC,QAA5B,QAA4C,OAA5C;AAEA;AACA;AACA;AACA;AACA;;AACA,OAAO,MAAMC,UAAU,GAAIC,GAAD,IAAS;EACjC,MAAMC,OAAO,GAAGC,WAAW,CAACF,GAAD,CAA3B;EACA,OAAOC,OAAO,KAAKD,GAAnB;AACD,CAHM;AAKP;AACA;AACA;AACA;AACA;;AACA,MAAME,WAAW,GAAIC,KAAD,IAAW;EAC7B,MAAMC,GAAG,GAAGP,MAAM,EAAlB;EACAD,SAAS,CAAC,MAAM;IACdQ,GAAG,CAACC,OAAJ,GAAcF,KAAd;EACD,CAFQ,CAAT;EAGA,OAAOC,GAAG,CAACC,OAAX;AACD,CAND;AAQA;AACA;AACA;AACA;;;AACA,OAAO,MAAMC,cAAc,GAAIC,IAAD,IAAU;EAAEX,SAAS,CAACW,IAAD,EAAO,EAAP,CAAT;AAAqB,CAAxD;AAEP;AACA;AACA;;AACA,OAAO,MAAMC,WAAW,GAAG,MAAM;EAC/B,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBZ,QAAQ,CAAC,OAAD,CAAlC;;EACA,MAAMa,OAAO,GAAGC,IAAI,IAAI;IACtBC,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BF,IAA9B;IACAF,QAAQ,CAACE,IAAD,CAAR;EACD,CAHD;;EAKA,MAAMG,WAAW,GAAG,MAAM;IACxB,IAAIN,KAAK,KAAK,OAAd,EAAuB;MACrBE,OAAO,CAAC,MAAD,CAAP;IACD,CAFD,MAEO;MACLA,OAAO,CAAC,OAAD,CAAP;IACD;EACF,CAND;;EAQAf,SAAS,CAAC,MAAM;IACd,MAAMoB,UAAU,GAAGH,YAAY,CAACI,OAAb,CAAqB,OAArB,CAAnB;IACAC,MAAM,CAACC,UAAP,IAAqBD,MAAM,CAACC,UAAP,CAAkB,8BAAlB,EAAkDC,OAAvE,IAAkF,CAACJ,UAAnF,GACEL,OAAO,CAAC,MAAD,CADT,GAEEK,UAAU,GACRN,QAAQ,CAACM,UAAD,CADA,GAERL,OAAO,CAAC,OAAD,CAJX;EAKD,CAPQ,EAON,EAPM,CAAT;EASA,OAAO,CAACF,KAAD,EAAQM,WAAR,CAAP;AACD,CAzBM"},"metadata":{},"sourceType":"module"}