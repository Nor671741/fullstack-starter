{"ast":null,"code":"var _jsxFileName = \"/home/sarah.plazio/projects/fullstack-starter/ui/src/containers/ProductLayout.js\";\nimport * as productDuck from '../ducks/products';\nimport Avatar from '@material-ui/core/Avatar';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Divider from '@material-ui/core/Divider';\nimport { EnhancedTableToolbar } from '../components/Table';\nimport Grid from '@material-ui/core/Grid';\nimport ImageIcon from '@material-ui/icons/Image';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport ProductDeleteModal from '../components/Products/ProductDeleteModal';\nimport ProductFormModal from '../components/Products/ProductFormModal';\nimport React, { useCallback, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n    backgroundColor: theme.palette.background.paper\n  },\n  medium: {\n    width: theme.spacing(4),\n    height: theme.spacing(4)\n  }\n}));\n\nconst ProductLayout = props => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const products = useSelector(state => state.products.all);\n  const isFetched = useSelector(state => state.products.fetched);\n  const removeProducts = useCallback(ids => {\n    dispatch(productDuck.removeProducts(ids));\n  }, [dispatch]);\n  const saveProducts = useCallback(product => {\n    dispatch(productDuck.saveProducts(product));\n  }, [dispatch]);\n  useEffect(() => {\n    if (!isFetched) {\n      dispatch(productDuck.findProducts());\n    }\n  }, [dispatch, isFetched]);\n  const [isCreateOpen, setCreateOpen] = React.useState(false);\n  const [isEditOpen, setEditOpen] = React.useState(false);\n  const [isDeleteOpen, setDeleteOpen] = React.useState(false);\n\n  const toggleCreate = () => {\n    setCreateOpen(true);\n  };\n\n  const toggleEdit = () => {\n    setEditOpen(true);\n  };\n\n  const toggleDelete = () => {\n    setDeleteOpen(true);\n  };\n\n  const toggleModals = resetChecked => {\n    setCreateOpen(false);\n    setDeleteOpen(false);\n    setEditOpen(false);\n\n    if (resetChecked) {\n      setChecked([]);\n    }\n  };\n\n  const [checked, setChecked] = React.useState([]);\n\n  const handleToggle = value => () => {\n    const currentIndex = checked.indexOf(value);\n    const newChecked = [...checked];\n\n    if (currentIndex === -1) {\n      newChecked.push(value);\n    } else {\n      newChecked.splice(currentIndex, 1);\n    }\n\n    setChecked(newChecked);\n  };\n\n  return /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Paper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(EnhancedTableToolbar, {\n    numSelected: checked.length,\n    title: \"Products\",\n    toggleCreate: toggleCreate,\n    toggleDelete: toggleDelete,\n    toggleEdit: toggleEdit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(List, {\n    dense: true,\n    disablePadding: true,\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, products.map((value, index) => /*#__PURE__*/React.createElement(React.Fragment, {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(ListItem, {\n    button: true,\n    onClick: handleToggle(value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(ListItemIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Checkbox, {\n    onChange: handleToggle(value),\n    checked: checked.indexOf(value) !== -1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(ListItemAvatar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    className: classes.medium,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(ImageIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 23\n    }\n  }))), /*#__PURE__*/React.createElement(ListItemText, {\n    primary: value.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 19\n    }\n  })))))), /*#__PURE__*/React.createElement(ProductFormModal, {\n    title: \"Create\",\n    formName: \"productCreate\",\n    isDialogOpen: isCreateOpen,\n    handleDialog: toggleModals,\n    handleProduct: saveProducts,\n    initialValues: {},\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(ProductFormModal, {\n    title: \"Edit\",\n    formName: \"productEdit\",\n    isDialogOpen: isEditOpen,\n    handleDialog: toggleModals,\n    handleProduct: saveProducts,\n    initialValues: checked[0],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(ProductDeleteModal, {\n    isDialogOpen: isDeleteOpen,\n    handleDelete: removeProducts,\n    handleDialog: toggleModals,\n    initialValues: checked.map(check => check.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default ProductLayout;","map":{"version":3,"names":["productDuck","Avatar","Checkbox","Divider","EnhancedTableToolbar","Grid","ImageIcon","List","ListItem","ListItemAvatar","ListItemIcon","ListItemText","makeStyles","Paper","ProductDeleteModal","ProductFormModal","React","useCallback","useEffect","useDispatch","useSelector","useStyles","theme","root","width","backgroundColor","palette","background","paper","medium","spacing","height","ProductLayout","props","classes","dispatch","products","state","all","isFetched","fetched","removeProducts","ids","saveProducts","product","findProducts","isCreateOpen","setCreateOpen","useState","isEditOpen","setEditOpen","isDeleteOpen","setDeleteOpen","toggleCreate","toggleEdit","toggleDelete","toggleModals","resetChecked","setChecked","checked","handleToggle","value","currentIndex","indexOf","newChecked","push","splice","length","map","index","name","check","id"],"sources":["/home/sarah.plazio/projects/fullstack-starter/ui/src/containers/ProductLayout.js"],"sourcesContent":["import * as productDuck from '../ducks/products'\nimport Avatar from '@material-ui/core/Avatar'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport Divider from '@material-ui/core/Divider'\nimport { EnhancedTableToolbar } from '../components/Table'\nimport Grid from '@material-ui/core/Grid'\nimport ImageIcon from '@material-ui/icons/Image'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Paper from '@material-ui/core/Paper'\nimport ProductDeleteModal from '../components/Products/ProductDeleteModal'\nimport ProductFormModal from '../components/Products/ProductFormModal'\nimport React, { useCallback, useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    backgroundColor: theme.palette.background.paper,\n  },\n  medium: {\n    width: theme.spacing(4),\n    height: theme.spacing(4),\n  }\n}))\n\nconst ProductLayout = (props) => {\n  const classes = useStyles()\n  const dispatch = useDispatch()\n\n  const products = useSelector(state => state.products.all)\n  const isFetched = useSelector(state => state.products.fetched)\n  const removeProducts = useCallback(ids => { dispatch(productDuck.removeProducts(ids)) }, [dispatch])\n  const saveProducts = useCallback(product => { dispatch(productDuck.saveProducts(product)) }, [dispatch])\n\n  useEffect(() => {\n    if (!isFetched) {\n      dispatch(productDuck.findProducts())\n    }\n  }, [dispatch, isFetched])\n\n  const [isCreateOpen, setCreateOpen] = React.useState(false)\n  const [isEditOpen, setEditOpen] = React.useState(false)\n  const [isDeleteOpen, setDeleteOpen] = React.useState(false)\n  const toggleCreate = () => {\n    setCreateOpen(true)\n  }\n  const toggleEdit = () => {\n    setEditOpen(true)\n  }\n  const toggleDelete = () => {\n    setDeleteOpen(true)\n  }\n  const toggleModals = (resetChecked) => {\n    setCreateOpen(false)\n    setDeleteOpen(false)\n    setEditOpen(false)\n    if (resetChecked) {\n      setChecked([])\n    }\n  }\n  const [checked, setChecked] = React.useState([])\n  const handleToggle = (value) => () => {\n    const currentIndex = checked.indexOf(value)\n    const newChecked = [...checked]\n\n    if (currentIndex === -1) {\n      newChecked.push(value)\n    } else {\n      newChecked.splice(currentIndex, 1)\n    }\n    setChecked(newChecked)\n  }\n\n  return (\n    <Grid container>\n      <Grid item xs={12}>\n        <Paper>\n          <EnhancedTableToolbar\n            numSelected={checked.length}\n            title='Products'\n            toggleCreate={toggleCreate}\n            toggleDelete={toggleDelete}\n            toggleEdit={toggleEdit}\n          />\n          <List dense disablePadding className={classes.root}>\n            {products.map((value, index) =>\n              <React.Fragment key={index}>\n                <Divider/>\n                <ListItem button onClick={handleToggle(value)}>\n                  <ListItemIcon>\n                    <Checkbox\n                      onChange={handleToggle(value)}\n                      checked={checked.indexOf(value) !== -1}\n                    />\n                  </ListItemIcon>\n                  <ListItemAvatar>\n                    <Avatar className={classes.medium}>\n                      <ImageIcon/>\n                    </Avatar>\n                  </ListItemAvatar>\n                  <ListItemText primary={value.name}/>\n                </ListItem>\n              </React.Fragment>\n            )}\n          </List>\n        </Paper>\n        <ProductFormModal\n          title='Create'\n          formName='productCreate'\n          isDialogOpen={isCreateOpen}\n          handleDialog={toggleModals}\n          handleProduct={saveProducts}\n          initialValues={{}}\n        />\n        <ProductFormModal\n          title='Edit'\n          formName='productEdit'\n          isDialogOpen={isEditOpen}\n          handleDialog={toggleModals}\n          handleProduct={saveProducts}\n          initialValues={checked[0]}\n        />\n        <ProductDeleteModal\n          isDialogOpen={isDeleteOpen}\n          handleDelete={removeProducts}\n          handleDialog={toggleModals}\n          initialValues={checked.map(check => check.id)}\n        />\n      </Grid>\n    </Grid>\n  )\n}\n\nexport default ProductLayout\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}